<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.webmanifest">
    <title>Apps homescreen</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function isPWA() {
            // Check if the app is in standalone mode (iOS)
            if (window.navigator.standalone === true) {
                return true;
            }
            // Check if the app is in standalone mode (Android or others)
            if (window.matchMedia('(display-mode: standalone)').matches) {
                return true;
            }
            return false;
        }

        window.onload = function() {
            if (isPWA()) {
                // If opened from shortcut, show the calculator
                document.getElementById('browser-message').style.display = 'none';
                document.getElementById('app').style.display = 'block';
            } else {
                // If opened in browser, show "Add to homescreen" message
                document.getElementById('browser-message').style.display = 'block';
                document.getElementById('app').style.display = 'none';
            }
        };
    </script>
</head>
<body>
    <!-- Message for browser users -->
    <div id="browser-message" style="display: none;">
        <h1>Please add to homescreen shortcut</h1>
    </div>

    <!-- Calculator visible only after being added to homescreen -->
    <div id="app" style="display: none;">
        <h1>Apps</h1>
        <div class="box-container"> 
            <h2 class="box-title">Calculate new A value</h2>
        <!-- Link styled as a button to go to the calculator page -->
            <a href="CalApp.html" class="button-link">Go to Calculator</a>
        </div>
    </div>
</body>
</html>
